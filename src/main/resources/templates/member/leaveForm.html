<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <div th:replace="fragments/config :: configFragment"></div>
</head>
<body>
<div class="wrapper">
    <div th:replace="fragments/header :: headerFragment"></div>
    <div class="row mt-6">
        <div class="col-4"></div>
        <div class="form-group col-4">
            <h2>회원탈퇴</h2>
        </div>
    </div>
    <form name="frm" id="frm" method="post" action="/member/leaveMember" onsubmit="return confirm('정말 탈퇴하시겠습니까?')">
    <div class="row">
        <div class="col-4"></div>
        <div class="form-group col-4">
            <label for="password" class="form-label mt-4">비밀번호</label>
            <input type="password" class="form-control" id="password" name="password" placeholder="password">
        </div>
    </div>
        <div align="center" class="mt-3">
            <button type="submit" class="btn btn-danger">탈퇴</button>
            <a href="/member/myProfile" class="btn btn-warning">취소</a>
        </div>
    </form>
</div>
<div th:replace="fragments/footer :: footerFragment"></div>
</body>
<script th:inline="javascript">
    /*<![CDATA[*/
    let msg = [[${msg}]];
    /*]]>*/
    if(msg == "PASSWORD_INCORRECT"){
        alert("비밀번호가 틀립니다. 다시 시도해주세요");
    }
    if(msg == "DEL_FAILED"){
        alert("탈퇴에 실패하였습니다. 다시 시도해주세요.");
    }
    if(msg == "SER_ERROR"){
        alert("예기치 못한 에러가 발생했습니다. 다시 시도해주세요. 반복적으로 발생시 관리자에게 문의 바랍니다. travelPlannerOffical@gmail.com");
    }

</script>
</html>